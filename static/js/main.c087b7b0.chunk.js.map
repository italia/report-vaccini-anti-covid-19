{"version":3,"sources":["utils.js","loadData.js","components/AgeHStackedBarChart.jsx","components/MapArea.jsx","campaigns/CampaignContext.jsx","containers/agedoses.jsx","components/Total.jsx","components/AgeHStackedBarChartHistory.jsx","containers/agedosesHistory.jsx","containers/databox.jsx","components/TotalHistory.jsx","campaigns/Campaign-History.jsx","campaigns/Campaign-2023-2024.jsx","components/RangeWeek.jsx","components/StackedBarChart.jsx","containers/weeks.jsx","campaigns/Campaign-2024-2025.jsx","components/FooterBar.jsx","components/HeaderBar.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["sumDoseX","y","acc","x","filterBy","z","replaceArea","filterByArea","area","areaMapping","code","ABR","BAS","CAL","CAM","EMR","FVG","LAZ","LIG","LOM","MAR","MOL","PAB","PAT","PIE","PUG","SAR","SIC","TOS","UMB","VDA","VEN","obj","retobj","key","inverse","baseURL","years","sommVaxSummaryURL","sommVaxDetailBaseURL","vaxSummaryURL","lastUpdateURL","plateaURL","plateaDoseAddizionaleBoosterURL","plateaDoseSecondBoosterURL","plateaDoseThirdBoosterURL","elaborate","data","dataSommVaxSummary","dataSommVaxDetail","dataVaxSummary","dataPlatea","dataPlateaDoseAddizionaleBooster","dataPlateaSecondBooster","dataPlateaThirdBooster","dataSommVaxSummaryCampagna","dataSommVaxDetailCampagna","fasciaEta","fasciaEtaHistory","timestamp","dataLastUpdate","ultimo_aggiornamento","tot","filter","d","reduce","totCampagna","totalDoses","prima_dose","_","sum","map","e","eta","d1","pregressa_infezione","dpi","seconda_dose","d2","prima_dose_janssen","forn","prima_dose_infant","seconda_dose_infant","pregressa_infezione_infant","prima_dose_janssen_infant","prima_dose_baby","seconda_dose_baby","pregressa_infezione_baby","prima_dose_janssen_baby","dose_addizionale_booster","db1","dose_second_booster","db2","dose_third_booster","db3","dose_addizionale_booster_baby","totalPlatea","totale_popolazione","totalPlateaBaby","totalPlateaInfant","totalPlateaDoseAddizionaleBooster","categoria_prevalente","databoxContent","totalPlateaDoseAddizionaleBoosterBaby","totalPlateaDoseSecondBooster","totalPlateaDoseThirdBooster","deliverySummary","deliveredByArea","groupBy","totalDeliverySummary","items","details","head","dosi_consegnate","dosi_somministrate","percentuale_somministrazione","value","spectrum","suppliersColor","suppliers","row","includes","push","indexOfPediatrico","indexOf","splice","rowFornitore","Object","keys","length","weeksMappingOptimation","index","suppliersWeek","date","Date","entry","label","Moment","getTime","format","from","labelfrom","to","labelto","total","week","f","m","pop","weekContent","keyValueDoses","keysDosesAges","dosesAges","values","dosesAgesData","rowAge","keyAge","sort","a","b","secondDosesMapData","totale","rowAgeCorrect","dosesAgesRegionData","subItems","agedosesContent","dosesAgesColor","keyValueDosesHistory","keysDosesAgesHistory","dosesAgesHistory","dosesAgesDataHistory","entryTmp","totaleSom","secondDosesMapDataHistory","somministrazioni","popolazione","popolazioneFascia","dosesAgesRegionDataHistory","agedosesContentHistory","dosesAgesColorHistory","loadData","campagnaUrl","summaryUrl","Promise","all","fetch","resSommVaxSummary","resVaxSummary","resLastUpdate","resPlatea","resPlateaDoseAddizionaleBooster","resPlateaDoseSecondBooster","resPlateaDoseThirdBooster","resSommVaxSummaryCampagna","resSommVaxDetailCampagna","arrayLatestURL","i","arrayLatestRes","json","arrayLatestJson","arrayLatestData","AgeHStackedBarChart","handleRectClick","height","width","labels","colors","selectedCodeAge","regionSelected","myRef","useRef","divRef","useEffect","d3","current","selectAll","remove","draw","responsivefy","svg","container","node","parentNode","parseInt","style","aspect","resize","targetWidth","attr","Math","round","call","window","on","dataset","append","margin","xScale","domain","yScale","padding","range","chart","tooltip","path","enter","html","ageCode","toLowerCase","replaceAll","bandwidth","this","transition","event","regione","pageY","pageX","toLocaleString","toFixed","exit","ref","className","MapArea","handleMapDeliveryClick","fillMapDeliveryArea","fillBy","summary","percentage","useState","geographies","setGeographies","maxValue","setMaxValue","maxBy","projection","center","rotate","parallels","scale","translate","res","topojson","objects","regions","features","fetchData","reg_name","properties","region","id","trim","fill","field","stroke","strokeWidth","onClick","undefined","defaultValue","weeks","title","subtitle","showLastUpdate","periodTitle","periodSubtitle","ageDoses","CampaignContext","createContext","useCampaignContext","name","context","useContext","Error","raise","Reflect","get","AgeDoses","setdosesAgesColor","dosesAgesKeys","setDosesAgesKeys","setKeyValueDoses","setDosesAgesData","categoryMapData","setCategoryMapData","categoryMapField","setCategoryMapField","categorySelectedRegion","setCategorySelectedRegion","categorySelectedRegionDescr","setCategorySelectedRegionDescr","setSelectedCodeAge","totalByCategory","setTotalByCategory","isEmpty","resetFilter","alt","src","property","xprop","yprop","cat","scaleOp","valueToFill","max","r","Total","props","moment","perc","AgeDosesHistory","setdosesAges","console","log","totale_somministrazioni","dose","backgroundColor","totalKey","Databox","totalePrimaDose","setTotalePrimaDose","percentualePrimaDosePopolazione","setPercentualePrimaDosePopolazione","totalePersoneVaccinate","setTotalePersoneVaccinate","totalePersoneVaccinatePopolazione","setTotalePersoneVaccinatePopolazione","totaleDoseAddizionaleBooster","setTotaleDoseAddizionaleBooster","percentualeDoseAddizionaleBooster","setPercentualeDoseAddizionaleBooster","totalePersoneSecondBooster","setTotalePersoneSecondBooster","percentualePersoneSecondBooster","setPercentualePersoneSecondBooster","totalePersoneThirdBooster","setTotalePersoneThirdBooster","percentualePersoneThirdBooster","setPercentualePersoneThirdBooster","totalePrimaDoseBaby","setTotalePrimaDoseBaby","percentualePrimaDosePopolazioneBaby","setPercentualePrimaDosePopolazioneBaby","totalePersoneVaccinateBaby","setTotalePersoneVaccinateBaby","totalePersoneVaccinatePopolazioneBaby","setTotalePersoneVaccinatePopolazioneBaby","totaleDoseAddizionaleBoosterBaby","setTotaleDoseAddizionaleBoosterBaby","percentualeDoseAddizionaleBoosterBaby","setPercentualeDoseAddizionaleBoosterBaby","totalePrimaDoseInfant","setTotalePrimaDoseInfant","percentualePrimaDosePopolazioneInfant","setPercentualePrimaDosePopolazioneInfant","totalePersoneVaccinateInfant","setTotalePersoneVaccinateInfant","totalePersoneVaccinatePopolazioneInfant","setTotalePersoneVaccinatePopolazioneInfant","digit","minimumFractionDigits","maximumFractionDigits","prima","isNaN","primaBaby","totBaby","primaInfant","totInfant","TotalHistory","CampaignHistory","Campaign20232024","setSummary","then","Provider","RangeWeek","min","changeFrom","changeTo","setValues","display","justifyContent","flexWrap","draggableTrack","step","rtl","onChange","renderTrack","children","onMouseDown","onTouchStart","marginRight","marginLeft","borderRadius","background","getTrackBackground","alignSelf","renderThumb","isDragged","alignItems","boxShadow","StackedBarChart","selectedFrom","selectedTo","ytitle","slice","text","Weeks","setSuppliersColor","setSuppliers","setSuppliersWeek","setFrom","setTo","totalLastWeek","setTotalLastWeek","fromLastWeek","setFromLastWeek","toLastWeek","setToLastWeek","lastWeek","substring","supply","xtitle","marginBottom","Campaign20242025","loading","document","getElementById","hideLoader","FooterBar","href","aria-label","rel","target","HeaderBar","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c087b7b0.chunk.js","sourcesContent":["import * as _ from 'lodash';\nexport const hideLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = !loading.className.includes('d-none') ? loading.className + ' d-none' : loading.className;\n}\nexport const showLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = loading.className.includes('d-none') ? loading.className.replace('d-none', '') : loading.className;\n}\nexport const sumDose = (acc, x) => acc + +x?.TML_DOSE_1 + +x?.TML_DOSE_2;\nexport const sumDoseXY = (y, z) => (acc, x) => acc + +x?.[y] + +x?.[z];\nexport const sumYear = (accumulator, currentValue) => accumulator + currentValue;\nexport const sumDoseX = (y) => (acc, x) => acc + +x?.[y];\nexport const maxX = (y) => (acc, x) => (x?.[y] > acc ? x?.[y] : acc);\nexport const age = [\"16-19\", \"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\", \"80-89\", \"90+\"];\nexport const groupByAge = (array) => {\n  let _age;\n  if (Array.isArray(array) && array.length > 0) {\n    _age = age.map(el => {\n      let resMale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_maschile));\n      let resFemale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_femminile));\n      return { fascia_anagrafica: el, sesso_femminile: resFemale, sesso_maschile: resMale, totale: resMale + resFemale };\n    });\n  }\n  return _age;\n}\nexport const mapArrayByProp = (array, prop) => array.map((e) => e[prop]);\nexport const reduceSum = (array) => array.reduce(sumYear);\n\nexport const aggrBy = (p) => (acc, x) => {\n  let key = x[p];\n  if (!acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(x);\n  return acc;\n};\nexport const filterBy = (y) => (z) => (x) => {\n  return x[y] === z;\n};\nexport const filterByArea = filterBy(\"area\");\nexport const filterByAreaITA = filterByArea(\"ITA\");\nexport const filterByAge = filterBy(\"TML_FASCIA_ETA\");\nexport const mapBy = (y) =>\n  Object.keys(y).map((x) => {\n    return { [x]: { sum: y[x].reduce(sumDose, 0) } };\n  });\nexport const mapByX = (y, z) =>\n  Object.keys(y).map((x) => {\n    return { [x]: y[x].reduce(sumDoseX(z), 0) };\n  });\nconst inverse = (obj) => {\n  let retobj = {};\n  for (const key in obj) {\n    retobj[obj[key]] = key;\n  }\n  return retobj;\n};\nexport const simulateClick = (id) => {\n  if (document.getElementById(id) && id) {\n    let clickEvt = new MouseEvent('click', {\n      'bubbles': true,\n      'cancelable': true\n    });\n    document.getElementById(id).dispatchEvent(clickEvt);\n  }\n}\nexport const replaceArea = (x) => ({ ...x, area: areaMapping[x.area], code: x.area });\nexport const areaMapping = {\n  ABR: \"Abruzzo\",\n  BAS: \"Basilicata\",\n  CAL: \"Calabria\",\n  CAM: \"Campania\",\n  EMR: \"Emilia-Romagna\",\n  FVG: \"Friuli-Venezia Giulia\",\n  LAZ: \"Lazio\",\n  LIG: \"Liguria\",\n  LOM: \"Lombardia\",\n  MAR: \"Marche\",\n  MOL: \"Molise\",\n  PAB: \"P.A. Bolzano\",\n  PAT: \"P.A. Trento\",\n  PIE: \"Piemonte\",\n  PUG: \"Puglia\",\n  SAR: \"Sardegna\",\n  SIC: \"Sicilia\",\n  TOS: \"Toscana\",\n  UMB: \"Umbria\",\n  VDA: \"Valle d'Aosta\",\n  VEN: \"Veneto\",\n};\nexport const areaMappingReverse = inverse(areaMapping);\n","import { replaceArea, sumDoseX } from \"./utils\";\n\nimport Moment from 'moment';\nimport _ from \"lodash\";\n\nexport const baseURL = \"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati\";\n\nconst years                                 = [2020, 2021, 2022, 2023];\nconst sommVaxSummaryURL                     = `${baseURL}/somministrazioni-vaccini-summary-latest.json`;\nconst sommVaxDetailBaseURL                  = `${baseURL}/somministrazioni-vaccini-latest-`;\nconst vaxSummaryURL                         = `${baseURL}/vaccini-summary-latest.json`;\nconst lastUpdateURL                         = `${baseURL}/last-update-dataset.json`;\nconst plateaURL                             = `${baseURL}/platea.json`;\nconst plateaDoseAddizionaleBoosterURL       = `${baseURL}/platea-dose-addizionale-booster.json`;\nconst plateaDoseSecondBoosterURL            = `${baseURL}/platea-second-booster.json`;\nconst plateaDoseThirdBoosterURL             = `${baseURL}/platea-3a-booster.json`;\n\n\nconst elaborate = (data) => {\n    /* creazioni delle costanti relative alle sorgenti dei file */\n    const dataSommVaxSummary                = data?.dataSommVaxSummary?.data;\n    const dataSommVaxDetail                 = data?.dataSommVaxDetail?.data;\n    const dataVaxSummary                    = data?.dataVaxSummary?.data;\n    const dataPlatea                        = data?.dataPlatea?.data;\n    const dataPlateaDoseAddizionaleBooster  = data?.dataPlateaDoseAddizionaleBooster?.data;\n    const dataPlateaSecondBooster           = data?.dataPlateaSecondBooster?.data;\n    const dataPlateaThirdBooster            = data?.dataPlateaThirdBooster?.data;\n    // campagna 2023-2024\n    const dataSommVaxSummaryCampagna    = data?.dataSommVaxSummaryCampagna?.data;\n    const dataSommVaxDetailCampagna     = data?.dataSommVaxDetailCampagna?.data;\n\n    /* array statico contenente tutte le fasce d'et */\n    const fasciaEta = ['0-4', '05-11', '12-59', '60-69', '70-79', '80+'];\n    const fasciaEtaHistory = ['0-4', '05-11', '12-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+'];\n    \n    /********************************************************************************\n     * ----------------------- DATA AGGIORNAMENTO REPORT ----------------------------\n     *******************************************************************************/\n\n    //const timestamp = data.dataLastUpdate.data[0].ultimo_aggiornamento;\n    const timestamp = data?.dataLastUpdate.data[0].ultimo_aggiornamento;\n\n    /********************************************************************************\n     * ------------------------- TOTALE SOMMINISTRAZIONI ----------------------------\n     *******************************************************************************/\n    const tot = dataSommVaxSummary?.filter((d) => d.area !== \"ITA\").reduce(sumDoseX(\"totale\"), 0);   \n    const totCampagna = dataSommVaxSummaryCampagna?.filter((d) => d.area !== \"ITA\").reduce(sumDoseX(\"d\"), 0);   \n\n    /********************************************************************************\n     * --------------------------- BOX DI RIEPILOGO DATI ----------------------------\n     *******************************************************************************/\n\n    /* creazione totalDoses, oggetto contenente la somma delle principali statistiche presenti in Databox.jsx */\n    let totalDoses = {\n        /* Ciclo Vaccinale Primario */\n        prima_dose:                     _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d1)), // somma delle prime dosi esclusa la fascia anagrafica 05-11\n        pregressa_infezione:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.dpi)), // somma delle pregresse infezioni esclusa la fascia anagrafica 05-11\n        seconda_dose:                   _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d2)), // somma delle seconde dosi esclusa la fascia anagrafica 05-11\n        prima_dose_janssen:             _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta !== '05-11' && e?.eta !== '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica escluse le fasce anagrafiche 00-04 05-11\n        /* Somministrazione platea 00-04 anni */\n        prima_dose_infant:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 00-04\n        seconda_dose_infant:            _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 00-04\n        pregressa_infezione_infant:     _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 00-04\n        prima_dose_janssen_infant:      _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 00-04\n        /* Somministrazione platea 5-11 anni */\n        prima_dose_baby:                _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 05-11\n        seconda_dose_baby:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 05-11\n        pregressa_infezione_baby:       _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 05-11\n        prima_dose_janssen_baby:        _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '05-11').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 05-11\n        /* Dose Addizionale/Booster */\n        dose_addizionale_booster:       _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db1)), // somma delle prime dosi booster per la fascia over 12\n        /* Seconda dose booster */\n        dose_second_booster:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db2)), // somma delle seconde dosi booster per la fascia over 12\n        /* Terza dose booster */\n        dose_third_booster:             _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db3)), // somma delle terze dosi booster per la fascia over 12\n        /* Dose Addizionale/Booster 05-15 */\n        dose_addizionale_booster_baby:  _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.db1 : 0)), // somma delle prime dosi booster per la fascia 5-11\n    };\n\n    /* calcolo delle platee */\n    let totalPlatea                             = _.sum(dataPlatea?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione over 12\n    let totalPlateaBaby                         = _.sum(dataPlatea?.map((e) => (e?.eta === '05-11') ? e?.totale_popolazione : 0)); // totale platea della popolazione 05-11\n    let totalPlateaInfant                       = _.sum(dataPlatea?.map((e) => (e?.eta === '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione 00-04\n    let totalPlateaDoseAddizionaleBooster       = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => (e?.categoria_prevalente !== '05-11' && e?.categoria_prevalente !== '00-04') ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseAddizionaleBoosterBaby   = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => e?.categoria_prevalente === '05-11' ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseSecondBooster            = _.sum(dataPlateaSecondBooster?.map((e) => e?.totale_popolazione)); // totale platea seconda dose booster\n    let totalPlateaDoseThirdBooster             = _.sum(dataPlateaThirdBooster?.map((e) => e?.totale_popolazione)); // totale platea terza dose booster\n\n    let databoxContent = { // insieme di dati da passare al container\n        totalPlateaDoseAddizionaleBoosterBaby,\n        totalPlatea,\n        totalPlateaBaby,\n        totalPlateaInfant,\n        totalPlateaDoseAddizionaleBooster,\n        totalPlateaDoseSecondBooster,\n        totalPlateaDoseThirdBooster\n    }\n\n    /********************************************************************************\n     * ---------- DISTRIBUZIONE SOMMINISTRAZIONI RISPETTO ALLE CONSEGNE -------------\n     * Tabella + Mappa Italia\n     * Possibilit di click sulla regione (Mappa)\n     *******************************************************************************/\n\n    const deliverySummary       = dataVaxSummary?.map(replaceArea);\n    const deliveredByArea       = _.groupBy(deliverySummary, \"code\");\n    /* Array di oggetti JSON aventi code, area, dosi_consegnate, dosi_somministrate e percentuale_somministrazione */\n    const totalDeliverySummary  = _(dataSommVaxDetail?.map(replaceArea)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        const details = _.head(deliveredByArea[code]);\n        return {\n            code                            : code, // codice regione\n            area                            : _.head(items)?.area, // nome esteso regione\n            dosi_consegnate                 : details.dosi_consegnate || 0, // dosi consegnate\n            dosi_somministrate              : details.dosi_somministrate || 0, // dosi somministrate\n            percentuale_somministrazione    : details.percentuale_somministrazione || 0, // percentuale somministrazioni rispetto alle consegnate\n        };\n    }).value();\n\n    /********************************************************************************\n     * ----------- GRAFICO ANDAMENTO SETTIMANALE DELLE SOMMINISTRAZIONI -------------\n     * Istogramma a pile\n     *******************************************************************************/ \n\n    let spectrum = [\"#0f69c9\", \"#4d99eb\", \"#77b2f2\", \"#b5d4f5\", \"#d1e0f0\", \"#edf2f7\", \"#ffffff\"]; // sono presenti pi colori del necessario per gestire eventuali nuovi fornitori\n    let suppliersColor = {}; // colori associati alle serie\n    let suppliers = []; // lista dinamica dei fornitori di vaccini\n\n    for (let row of data.dataSommVaxDetailCampagna.data) { // aggiungo i fornitori evitando duplicazioni\n        if (!suppliers.includes(row.forn)) {\n            suppliers.push(row.forn);\n        }\n    }\n\n    // sposto Pfizer Pediatrico in ultima posizione, rimuovendono dalla lista ed inserendolo in coda\n    var indexOfPediatrico = suppliers.indexOf('Pfizer Pediatrico');\n    if (indexOfPediatrico !== -1) {\n        suppliers.splice(indexOfPediatrico, 1);\n        suppliers.push('Pfizer Pediatrico');\n    }\n\n    // assegno i colori ai fornitori\n    for (let rowFornitore of suppliers) {\n        if ((Object.keys(suppliersColor).length - 1) < spectrum.length) {\n            suppliersColor[rowFornitore] = spectrum[Object.keys(suppliersColor).length];\n        }\n        else {\n            suppliersColor[rowFornitore] = \"#ffffff\";\n        }\n    }\n\n    // calcolo le diverse settimane partire dal 13/09/2024 (primo venerdi)\n    let weeksMappingOptimation = {};\n    var index = 0; // indice della settimana a partire dal 13/09/2024 (primo venerdi)\n\n    let suppliersWeek = [];\n    var date = new Date('2024-09-13'); // data di partenza delle somministrazioni che cambier ad ogni iterazione\n    do {\n        let entry = {\n            label: Moment(new Date(date.getTime() + 6 * 86400000)).format('DD/MM'), // giorno e mese del giovedi della settimana\n            from: Moment(date).format('YYYY-MM-DD'), // data di inizio settimana\n            labelfrom: Moment(date).format('DD/MM'), // etichetta inizio settimana\n            to: Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD'), // data fine settimana\n            labelto: Moment(new Date(date.getTime() + 6 * 86400000)).format('DD/MM'), // etichetta fine settimana\n            total: 0 // somministrazioni nella settimana\n        };\n\n        for (let supplier of suppliers) {\n            entry[supplier] = 0; // somministrazioni del fornitore nella settimana inizializzato a zero\n        }\n\n        // definisco ogni giorno in quale settimana si trova\n        weeksMappingOptimation[Moment(date).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 1 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 2 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 3 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 4 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 5 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD')] = index;\n        index++;\n\n        suppliersWeek.push(entry);\n\n        date = new Date(date.getTime() + 7 * 86400000); // aggiungo 7 gorni\n    } while(date <= new Date());\n\n    // aggiorno i totali per ogni fornitore e per l'intera settimana\n    for (let row of data.dataSommVaxDetailCampagna.data.filter((d) => d.data >= \"2024-09-17T00:00:00.000Z\")) { // per ogni valore presente nel JSON dal 17/09/2024\n        let index = weeksMappingOptimation[Moment(new Date(row.data)).format('YYYY-MM-DD')]; // ottengo l'indice di quale settimana fa parte il giorno corrente\n        let week = suppliersWeek[index];\n\n        // Totale Somministrazioni Settimanale ottenuto sommando le somministrazioni di maschi e femmine\n        try{\n            week.total += (row.f + row.m);\n        } catch(e){\n\n        }\n\n        // Totale Somministrazioni Settimanale per fornitore sommando le somministrazioni di maschi e femmine\n        week[row.forn] += (row.f + row.m);\n    }\n\n    suppliersWeek.pop();\n\n    let weekContent = { // insieme di dati da passare al container\n        suppliersColor,\n        suppliers,\n        suppliersWeek\n    }\n\n    /********************************************************************************\n     * --------------- SOMMINISTRAZIONI PER FASCIA D'ETA' - DOSE XBB 1.5  --------------------\n     * Istogramma + Mappa Italia\n     * Possibilit di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    // dataSommVaxDetailCampagna contiene i dati della campagna\n    let keyValueDoses = { // oggetto contenente le label delle serie (la legenda)\n        \"totale\": \"Totale fascia\"\n    }\n    let keysDosesAges      = Object.keys(keyValueDoses); // array delle chiavi della serie\n    let dosesAges          = Object.values(keyValueDoses); // array del nome delle serie (legenda)\n    let dosesAgesColor     = [\"#0a5dbb\"]; // colori associati alle serie\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let dosesAgesData = _(dataSommVaxDetailCampagna).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+, e tutta la fascia 12-59\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n                e.eta = '12-59';\n            }\n            return e;\n        }).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n\n        let keyAge = 'Fascia ' + rowAge; // keyAge  la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n\n        let entryTmp = {\n            'totale'                 : _.sum(items.map(e => e.d)), // sommo tutte le somministrazioni\n        }\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente (per ora ha una sola serie di conseguenza non devo calcolare scostamenti)\n        return {\n            'label'                 : keyAge,\n            'totale'                : entryTmp['totale']\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n    \n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const secondDosesMapData  = _(dataSommVaxDetailCampagna?.map(replaceArea)).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n                e.eta = '12-59';\n            }\n            return e;\n        }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code                : code, // codice regione\n            area                : _.head(items)?.area, // nome esteso regione\n            totale              : _.sum(items.map(e => e.d)) // sommo solo chi ha completato il ciclo vaccinale (coincide con le somministrazioni)\n        }\n\n        for (let rowAge of fasciaEta) { // per tutte le fasce d'et\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            let rowAgeCorrect = rowAge === '0-4' ? '00-04' : rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAgeCorrect === e.eta).map(e => e.d)); // sommo chi ha completato il ciclo vaccinale di quella fascia anagrafica (che coincide con le somministrazioni)\n        }\n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const dosesAgesRegionData  = {};\n    _(dataSommVaxDetailCampagna?.map(replaceArea)).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n        if (e.eta === '90+' || e.eta === '80-89') {\n            e.eta = '80+';\n        }\n        if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n            e.eta = '12-59';\n        }\n        return e;\n    }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        dosesAgesRegionData[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'et\n            let keyAge = 'Fascia ' + rowAge; // keyAge  la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n            \n            let entryTmp = {\n                'totale'                 : _.sum(subItems.map(e => e.d)), // sommo tutte le vaccinazioni\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente (in questo caso non sono presenti altre serie)\n            return {\n                'label'                 : keyAge,\n                'totale'                : entryTmp['totale']\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let agedosesContent = { // insieme di dati da passare al container\n        keyValueDoses,\n        keysDosesAges,\n        dosesAges,\n        dosesAgesColor,\n        dosesAgesData,\n        dosesAgesRegionData,\n        secondDosesMapData  \n    }\n\n\n    /********************************************************************************\n     * --------------- SOMMINISTRAZIONI PER FASCIA D'ETA' - DOSE STORICA --------------------\n     * Istogramma + Mappa Italia\n     * Possibilit di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    // dataSommVaxDetail contiene i dati storici\n\n    let keyValueDosesHistory = { // oggetto contenente le label delle serie (la legenda)\n        \"third_booster\": \"3 dose Booster \",\n        \"second_booster\": \"2 dose Booster \",\n        \"addizionale\": \"1 dose Booster\",\n        \"seconda\": \"2 dose/unica dose\",\n        \"prima\": \"1 dose\",\n        \"totale\": \"Totale fascia\"\n    }\n    let keysDosesAgesHistory      = Object.keys(keyValueDosesHistory); // array delle chiavi della serie\n    let dosesAgesHistory          = Object.values(keyValueDosesHistory); // array del nome delle serie (legenda)\n    let dosesAgesColorHistory     = [\"#090d4d\", \"#0b34a3\", \"#244bb3\", \"#0a5dbb\", \"#3073cf\", \"#548bd6\", \"#b6d5f4\"]; // colori associati alle serie\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let dosesAgesDataHistory = _(dataSommVaxDetail).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n        let keyAge = 'Fascia ' + rowAge; // keyAge  la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n        let entryTmp = {\n            'prima'                 : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n            'seconda'               : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n            'addizionale'           : _.sum(items.map(e => e.db1)), // sommo le dosi addizionali\n            'second_booster'        : _.sum(items.map(e => e.db2)), // sommo le seconde dosi booster\n            'third_booster'         : _.sum(items.map(e => e.db3)), // sommo le terze dosi booster,\n            'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n        }\n\n        let totaleSom = _.sum(items.map(e => e.m + e.f));\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n        return {\n            'label'                 : keyAge,\n            'third_booster'         : entryTmp['third_booster'],\n            'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n            'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n            'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n            'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n            'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n            'totale_somministrazioni': totaleSom,\n            'Totale platea'         : entryTmp['Totale platea'],\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n\n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const secondDosesMapDataHistory  = _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code                : code, // codice regione\n            area                : _.head(items)?.area, // nome esteso regione\n            somministrazioni    : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)) // sommo solo chi ha completato il ciclo vaccinale\n        }\n\n        let popolazione = _.sum(dataPlatea.filter(e => e.area === code).map(e => e.totale_popolazione)) // totale platea nella regione corrente  \n        entry['vaccinati'] = entry['somministrazioni']; // chi ha completato il ciclo vaccinale primario      \n        entry['somministrazioni'] = entry['somministrazioni'] / popolazione * 100; // calcolo la percentuale del totale sulla platea\n        \n        for (let rowAge of fasciaEtaHistory) { // per tutte le fasce d'et storiche\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            let rowAgeCorrect = rowAge === '0-4' ? '00-04' : rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAgeCorrect === e.eta && e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => rowAgeCorrect === e.eta && e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.filter(e => rowAgeCorrect === e.eta).map(e => e.dpi)); // sommo chi ha completato il ciclo vaccinale di quella fascia anagrafica\n            let popolazioneFascia = _.sum(dataPlatea.filter(e => e.area === code && e.eta === rowAgeCorrect).map(e => e.totale_popolazione)); // calcolo la platea della fascia anagrafica corrente in quella determinata regione\n            entry['vaccinati_' + keyAge] = entry[keyAge]; // valore inserito per visualizzare il totale nel pupup sulla mappa\n            entry[keyAge] = entry[keyAge] / popolazioneFascia * 100; // calcolo la percentuale\n        }\n        \n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const dosesAgesRegionDataHistory  = {};\n    _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poich solo in questo file  prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n        if (e.eta === '90+' || e.eta === '80-89') {\n            e.eta = '80+';\n        }\n        return e;\n    }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        dosesAgesRegionDataHistory[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'et\n            let keyAge = 'Fascia ' + rowAge; // keyAge  la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n            \n            let entryTmp = {\n                'prima'                 : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n                'seconda'               : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(subItems.filter(e => e.forn === 'Janssen' && e.area === code).map(e => e.d1)) + _.sum(subItems.filter(e => e.area === code).map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n                'addizionale'           : _.sum(subItems.map(e => e.db1)), // sommo le dosi addizionali\n                'second_booster'        : _.sum(subItems.map(e => e.db2)), // sommo le seconde dosi booster\n                'third_booster'         : _.sum(subItems.map(e => e.db3)), // sommo le terze dosi booster,\n                'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge && e.area === code).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n            return {\n                'label'                 : keyAge,\n                'third_booster'         : entryTmp['third_booster'],\n                'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n                'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n                'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n                'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n                'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n                'Totale platea'         : entryTmp['Totale platea'],\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let agedosesContentHistory = { // insieme di dati da passare al container\n        keyValueDosesHistory,\n        keysDosesAgesHistory,\n        dosesAgesHistory,\n        dosesAgesColorHistory,\n        dosesAgesDataHistory,\n        dosesAgesRegionDataHistory,\n        secondDosesMapDataHistory  \n    }\n\n\n    /********************************************************************************\n     * ------------------------------ FINE CALCOLI ----------------------------------\n     * Restituzione dei dati da rendere disponibili all'esterno\n     *******************************************************************************/\n\n    const aggr = {\n        timestamp,\n        tot,\n        totCampagna,\n        databoxContent,\n        weekContent,\n        agedosesContent,\n        agedosesContentHistory,\n        deliverySummary,\n        totalDeliverySummary,\n        totalDoses\n    };\n    return aggr;\n};\n\n\n/********************************************************************************\n * ---------------------- LETTURA DATI DA SORGENTI JSON -------------------------\n * Istogramma\n * Possibilit di click sulle barre\n *******************************************************************************/ \n\nexport const loadData = async ({campagnaUrl, summaryUrl}) => {\n    const [\n        resSommVaxSummary,\n        resVaxSummary,\n        resLastUpdate,\n        resPlatea,\n        resPlateaDoseAddizionaleBooster,\n        resPlateaDoseSecondBooster,\n        resPlateaDoseThirdBooster,\n        //campagna 2023-2024\n        resSommVaxSummaryCampagna,\n        resSommVaxDetailCampagna\n    ] = await Promise.all([\n        fetch(sommVaxSummaryURL),\n        fetch(vaxSummaryURL),\n        fetch(lastUpdateURL),\n        fetch(plateaURL),\n        fetch(plateaDoseAddizionaleBoosterURL),\n        fetch(plateaDoseSecondBoosterURL),\n        fetch(plateaDoseThirdBoosterURL),\n        //campagna 2023-2024\n        fetch(summaryUrl), // sommVaxSummaryCampagnaURL),\n        fetch(campagnaUrl) //sommVaxDetailCampagnaURL),\n    ]);\n\n    const arrayLatestURL = [];\n    for(var i = 0; i < years.length; i++) {\n        arrayLatestURL.push(fetch(sommVaxDetailBaseURL + years[i] + '.json'));\n    }\n\n    const arrayLatestRes = await Promise.all(arrayLatestURL);\n\n    const [\n        dataSommVaxSummary,\n        dataVaxSummary,\n        dataLastUpdate,\n        dataPlatea,\n        dataPlateaDoseAddizionaleBooster,\n        dataPlateaSecondBooster,\n        dataPlateaThirdBooster,\n        //campagna 2023-2024\n        dataSommVaxSummaryCampagna,\n        dataSommVaxDetailCampagna\n    ] = await Promise.all([\n        resSommVaxSummary.json(),\n        resVaxSummary.json(),\n        resLastUpdate.json(),\n        resPlatea.json(),\n        resPlateaDoseAddizionaleBooster.json(),\n        resPlateaDoseSecondBooster.json(),\n        resPlateaDoseThirdBooster.json(),\n        //campagna 2023-2024\n        resSommVaxSummaryCampagna.json(),\n        resSommVaxDetailCampagna.json()\n    ]);\n\n    const arrayLatestJson = [];\n    for(i = 0; i < arrayLatestRes.length; i++) {\n        arrayLatestJson.push(arrayLatestRes[i].json());\n    }\n    const arrayLatestData = await Promise.all(arrayLatestJson);\n\n    const dataSommVaxDetail = arrayLatestData[0];\n    for(i = 1; i < arrayLatestData.length; i++) {\n        dataSommVaxDetail.data = [...dataSommVaxDetail.data, ...arrayLatestData[i].data];\n    }\n\n    return {\n        ...elaborate({\n            dataSommVaxSummary,\n            dataSommVaxDetail,\n            dataVaxSummary,\n            dataLastUpdate,\n            dataPlatea,\n            dataPlateaDoseAddizionaleBooster,\n            dataPlateaSecondBooster,\n            dataPlateaThirdBooster,\n            //campagna 2023-2024\n            dataSommVaxSummaryCampagna,\n            dataSommVaxDetailCampagna\n        })\n    };\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const AgeHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['totale']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n          tooltip\n            .html(\n                `<div style=\"text-align: center; line-height: 1.15rem;\">\n                <div style=\"font-size: 12px;\">${regione}</div>\n                <div><b>${d.data.label}</b></div>\n                <div style=\"font-size: 14px;\">Somministrazioni</div>\n                <div>${d.data[\"totale\"].toLocaleString('it')}</div>\n                </div>`\n                )\n            .style('display', null);\n        }\n        else {\n          var perc = 99999;\n          /*\n          if (d3.select(this.parentNode).attr(\"dose\") === 'prima') {\n            let sum = d.data[\"prima\"] + d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n            perc = (sum / d.data[\"Totale platea\"]) * 100;\n          }\n          else {\n            if (d3.select(this.parentNode).attr(\"dose\") === 'seconda') {\n              let sum = d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n              perc = (sum / d.data[\"Totale platea\"]) * 100;\n            }\n            else {\n              if (d3.select(this.parentNode).attr(\"dose\") === 'addizionale') {\n                let sum = d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                perc = (sum / d.data[\"Totale platea\"]) * 100;\n              }\n              else {\n                if (d3.select(this.parentNode).attr(\"dose\") === 'second_booster') {\n                  let sum = d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                  perc = (sum / d.data[\"Totale platea\"]) * 100;\n                }\n                else {\n                  perc = (d.data[\"third_booster\"] / d.data[\"Totale platea\"]) * 100;\n                }\n              }\n            }\n          }\n          */\n         /*\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n\n            if ( perc < 0) {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"totale\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n\n            } else {\n              */\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\"><b>(${perc.toFixed(2).toLocaleString(\"it\")} %)</b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"totale\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n        //    }\n        }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import { React, useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport _ from \"lodash\";\n\nexport const MapArea = ({\n    handleMapDeliveryClick,\n    fillMapDeliveryArea,\n    fillBy,\n    summary,\n    tooltip,\n    percentage,\n}) => {\n        const [geographies, setGeographies] = useState([]);\n        const [maxValue, setMaxValue] = useState(0);\n\n        useEffect(() => {\n            if (percentage) {\n                setMaxValue(100);\n            } else {\n                const maxValue = _.maxBy(summary || {}, fillBy);\n                setMaxValue(maxValue ? maxValue[fillBy] : 0);\n            }\n        }, [summary, fillBy, percentage]);\n\n    const width = 498,\n          height = 478;\n\n    const projection = d3\n        .geoAlbers()\n        .center([0, 41])\n        .rotate([347, 0])\n        .parallels([35, 45])\n        .scale(2200)\n        .translate([width / 2, height / 2]);\n        useEffect(() => {\n            const fetchData = async () => {\n                const res = await fetch(\"data/geo/it.json\");\n                const data = await res.json();\n                setGeographies(topojson.feature(data, data.objects.regions).features);\n            };\n        fetchData();\n        }, []);\n\n    return (\n        <div className=\"map-area\">\n            <svg className=\"h-100 w-100\" height={height}>\n                <g className=\"countries\">\n                    {geographies.map((d, i) => {\n                        let reg_name = d.properties.reg_name;\n                        let regions = _.filter(summary, (i) => i.area === reg_name);\n                        let region = {};\n                        if (regions && regions.length > 0) {\n                            region = regions[0];\n                        }\n\n                        return (\n                            <path\n                                key={`path-${i}`}\n                                d={d3.geoPath().projection(projection)(d)}\n                                className=\"country\"\n                                id={`${region?.area?.trim()}`}\n                                fill={fillMapDeliveryArea({ region, maxValue, field: fillBy })}\n                                stroke=\"#FFFFFF\"\n                                strokeWidth={0.7}\n                                onClick={() => handleMapDeliveryClick(region)}\n                            >\n                                <title>\n                                    {region.code !== undefined && (<span className=\"bg-info\">{tooltip(region)}</span>)}\n                                    {region.code === undefined && (<span className=\"bg-info\">{d.properties.reg_name} {'(0)'}</span>)}\n                                </title>\n                            </path>\n                        );\n                    })};\n                </g>\n            </svg>\n        </div>\n    );\n};\n","import { createContext, useContext } from 'react';\n\nconst defaultValue = { \n    weeks:{ title: \"\" },\n    total:{ title: \"\" , subtitle: \"\", showLastUpdate: false, periodTitle: \"\", periodSubtitle: \"\"},\n    ageDoses:{ title: \"\"},\n}\n\nexport const CampaignContext = createContext(defaultValue)\n\nconst raise = () =>  {\n    throw new Error('useAmbienteContext must be used inside a AmbienteContext providing a valid selector');\n}\n\nexport const useCampaignContext = (name) => {\n    const context = useContext(CampaignContext) ?? raise()\n    return Reflect.get(context, name);\n  };","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\n\nimport { AgeHStackedBarChart } from \"../components/AgeHStackedBarChart\";\nimport { MapArea } from \"../components/MapArea\";\nimport { useCampaignContext } from \"../campaigns/CampaignContext\";\n\nexport const AgeDoses = ({ data }) => {\n    const [dosesAgesColor, setdosesAgesColor] = useState([]);\n    const [dosesAgesKeys, setDosesAgesKeys] = useState([]);\n    const [keyValueDoses, setKeyValueDoses] = useState({});\n    const [dosesAgesData, setDosesAgesData] = useState([]);\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"totale\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setdosesAgesColor(data.agedosesContent.dosesAgesColor);\n            setDosesAgesKeys(data.agedosesContent.keysDosesAges);\n            setKeyValueDoses(data.agedosesContent.keyValueDoses);\n            setDosesAgesData(data.agedosesContent.dosesAgesData);\n            setTotalByCategory(data.totCampagna);\n            setCategoryMapData(data.agedosesContent.secondDosesMapData);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.totCampagna);\n        setDosesAgesData(data.agedosesContent.dosesAgesData);\n        setCategoryMapField(\"totale\");\n        setCategoryMapData(data.agedosesContent.secondDosesMapData);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n            resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code || region.code === undefined) {\n            resetFilter();\n        } else {\n            setCategorySelectedRegion(region.code);\n            setCategorySelectedRegionDescr(region.area);\n            setDosesAgesData(data.agedosesContent.dosesAgesRegionData[region.code])\n\n            var totale = 0;\n            for(let row of data.agedosesContent.dosesAgesRegionData[region.code]) {\n                totale += row.totale;\n            }\n            setTotalByCategory(totale);\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          for(let row of data.agedosesContent.dosesAgesData) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.totale);\n                break;\n            }\n          }\n        }\n    };\n\n    const {title} = useCampaignContext('ageDoses')\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div>\n                    <h3>{title}</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale somministrazioni</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <AgeHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={dosesAgesColor}\n                    keys={dosesAgesKeys}\n                    labels={keyValueDoses}\n                    data={dosesAgesData}\n                />\n                {/* // Graph */}\n\n                <p className=\"d-block d-sm-none text-center\">*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Totale somministrazioni per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n\n                            return (\n                                r.area +\n                                \" \" +\n                                (region && region[categoryMapField] && \"(\" + region[categoryMapField].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-end\">\n                        <h5 className=\"ml-5 pl-sm-1\">\n                            Totale somministrazioni\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import { React } from \"react\";\nimport moment from \"moment\";\nimport { useCampaignContext } from \"../campaigns/CampaignContext\";\n\nexport const Total = (props) => {\n    const {title, subtitle, showLastUpdate, periodTitle, periodSubtitle} = useCampaignContext('total')\n    return (\n        <div className=\"h-100 w-100 my-3\">\n            <div className=\"p-3 mb-5\">\n                <h3 className=\"text-center\">{title}</h3>\n                <div className=\"col-12 d-flex justify-content-center align-items-center\">\n                    <h6>{subtitle}</h6>\n                </div>\n            </div>\n            {showLastUpdate && <div className=\"mx-auto\">\n                <h5 className=\"text-center pb-4\">Ultimo aggiornamento dati</h5>\n                <h6 className=\"text-center pb-4\">\n                    {props.summary.timestamp && moment(props.summary.timestamp).format(\"DD-MM-YYYY\")}\n                </h6>\n            </div>}\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div className=\"d-flex justify-content-center align-items-baseline\">\n                    <img src=\"meds.png\" alt=\"meds\" className=\"pl-2 pr-5\" />\n                    <div className=\"pl-2 mt-4 numbers\">{props.summary.totCampagna?.toLocaleString('it')}</div>\n                </div>\n                <span className=\"border-divider mb-2\"></span>\n                <div className=\"d-flex justify-content-center\">\n                    <h3>{periodTitle}</h3>\n                </div>\n                {periodSubtitle && <div className=\"d-flex justify-content-center\">{periodSubtitle}</div>}\n            </div>\n        </div>\n    );\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const AgeHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['Totale platea']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n          tooltip\n            .html(\n                `<div style=\"text-align: center; line-height: 1.15rem;\">\n                <div style=\"font-size: 12px;\">${regione}</div>\n                <div><b>${d.data.label}</b></div>\n                <div style=\"font-size: 14px;\">Platea</div>\n                <div>${d.data[\"Totale platea\"].toLocaleString('it')}</div>\n                </div>`\n                )\n            .style('display', null);\n        }\n        else {\n          var perc = 0;\n          if (d3.select(this.parentNode).attr(\"dose\") === 'prima') {\n            let sum = d.data[\"prima\"] + d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n            perc = (sum / d.data[\"Totale platea\"]) * 100;\n          }\n          else {\n            if (d3.select(this.parentNode).attr(\"dose\") === 'seconda') {\n              let sum = d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n              perc = (sum / d.data[\"Totale platea\"]) * 100;\n            }\n            else {\n              if (d3.select(this.parentNode).attr(\"dose\") === 'addizionale') {\n                let sum = d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                perc = (sum / d.data[\"Totale platea\"]) * 100;\n              }\n              else {\n                if (d3.select(this.parentNode).attr(\"dose\") === 'second_booster') {\n                  let sum = d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                  perc = (sum / d.data[\"Totale platea\"]) * 100;\n                }\n                else {\n                  perc = (d.data[\"third_booster\"] / d.data[\"Totale platea\"]) * 100;\n                }\n              }\n            }\n          }\n\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n\n            if ( perc < 0) {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n\n            } else {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\"><b>(${perc.toFixed(2).toLocaleString(\"it\")} %)</b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n            }\n        }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { AgeHStackedBarChart } from \"../components/AgeHStackedBarChartHistory\";\nimport { MapArea } from \"../components/MapArea\";\n\nexport const AgeDosesHistory = ({ data }) => {\n    const [dosesAgesColor, setdosesAgesColor] = useState([]);\n    const [dosesAges, setdosesAges] = useState([]);\n    const [dosesAgesKeys, setDosesAgesKeys] = useState([]);\n    const [keyValueDoses, setKeyValueDoses] = useState({});\n    const [dosesAgesData, setDosesAgesData] = useState([]);\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"somministrazioni\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setdosesAgesColor(data.agedosesContentHistory.dosesAgesColorHistory);\n            setdosesAges(data.agedosesContentHistory.dosesAgesHistory);\n            setDosesAgesKeys(data.agedosesContentHistory.keysDosesAgesHistory);\n            setKeyValueDoses(data.agedosesContentHistory.keyValueDosesHistory);\n            setDosesAgesData(data.agedosesContentHistory.dosesAgesDataHistory);\n\n            setTotalByCategory(data.tot);\n            setCategoryMapData(data.agedosesContentHistory.secondDosesMapDataHistory);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.tot);\n        setDosesAgesData(data.agedosesContentHistory.dosesAgesDataHistory);\n        setCategoryMapField(\"somministrazioni\");\n        setCategoryMapData(data.agedosesContentHistory.secondDosesMapDataHistory);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n          resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n          resetFilter();\n        } else {\n          setCategorySelectedRegion(region.code);\n          setCategorySelectedRegionDescr(region.area);\n          setDosesAgesData(data.agedosesContentHistory.dosesAgesRegionDataHistory[region.code])\n\n          for(let row of data?.totalDeliverySummary) {\n            if (row.code === region.code) {\n                setTotalByCategory(row.dosi_somministrate);\n            }\n          }\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          console.log(ageCode)\n\n          for(let row of data.agedosesContentHistory.dosesAgesDataHistory) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.totale_somministrazioni);\n                break;\n            }\n          }\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div>\n                    <h3>Somministrazioni per fascia d'et - dose fino al 24/09/2023</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale somministrazioni</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <AgeHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={dosesAgesColor}\n                    keys={dosesAgesKeys}\n                    labels={keyValueDoses}\n                    data={dosesAgesData}\n                />\n                {/* // Graph */}\n\n                {/* Legend */}\n                <div className=\"row mb-4 ml-4\">\n                    {dosesAges.map((dose, index) => {\n                        return (\n                            <div className=\"row\" key={dose}>\n                                <div className=\"circle\" style={{ backgroundColor: dosesAgesColor[index] }}></div>\n                                <div className=\"legend-dark mr-4\">{dose}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                {/* // Legend */}\n\n                <p className=\"d-block d-sm-none text-center\">*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Percentuale vaccinati per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    percentage={true}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n                            let totalKey = categoryMapField === 'somministrazioni' ? 'vaccinati' : 'vaccinati_' + categoryMapField;\n                            return (\n                                r.area +\n                                \" \" +\n                                (r[categoryMapField] && r[categoryMapField].toFixed(2).toLocaleString(\"it\") + \"%\") +\n                                \" \" +\n                                (region && region[totalKey] && \"(\" + region[totalKey].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-start pr-5\">\n                        <h5 className=\"pl-3 pl-sm-1\">\n                            Percentuale vaccinati\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import React, { useEffect, useState } from \"react\";\n\nexport const Databox = ({ data }) => {\n    const [totalePrimaDose, setTotalePrimaDose] = useState(''); // Prima Dose\n    const [percentualePrimaDosePopolazione, setPercentualePrimaDosePopolazione] = useState(''); // Percentuale Prima Dose\n\n    const [totalePersoneVaccinate, setTotalePersoneVaccinate] = useState(''); // Completamento ciclo vaccinale\n    const [totalePersoneVaccinatePopolazione, setTotalePersoneVaccinatePopolazione] = useState(''); // Percentuale Completamento ciclo vaccinale\n\n    const [totaleDoseAddizionaleBooster, setTotaleDoseAddizionaleBooster] = useState(''); // Dose aggiuntiva/booster\n    const [percentualeDoseAddizionaleBooster, setPercentualeDoseAddizionaleBooster] = useState(''); // Percentuale Dose aggiuntiva/booster\n\n    const [totalePersoneSecondBooster, setTotalePersoneSecondBooster] = useState(''); // Dose seconda booster\n    const [percentualePersoneSecondBooster, setPercentualePersoneSecondBooster] = useState(''); // Percentuale Dose seconda booster\n\n    const [totalePersoneThirdBooster, setTotalePersoneThirdBooster] = useState(''); // Dose terza booster\n    const [percentualePersoneThirdBooster, setPercentualePersoneThirdBooster] = useState(''); // Percentuale Dose terza booster\n\n    const [totalePrimaDoseBaby, setTotalePrimaDoseBaby] = useState(''); // Prima Dose Baby\n    const [percentualePrimaDosePopolazioneBaby, setPercentualePrimaDosePopolazioneBaby] = useState(''); // Percentuale Prima Dose Baby\n\n    const [totalePersoneVaccinateBaby, setTotalePersoneVaccinateBaby] = useState(''); // Completamento ciclo vaccinale Baby\n    const [totalePersoneVaccinatePopolazioneBaby, setTotalePersoneVaccinatePopolazioneBaby] = useState(''); // Percentuale Completamento ciclo vaccinale Baby\n\n    const [totaleDoseAddizionaleBoosterBaby, setTotaleDoseAddizionaleBoosterBaby] = useState(''); // Dose aggiuntiva/booster 5-11\n    const [percentualeDoseAddizionaleBoosterBaby, setPercentualeDoseAddizionaleBoosterBaby] = useState(''); // Percentuale Dose aggiuntiva/booster 5-11\n\n    const [totalePrimaDoseInfant, setTotalePrimaDoseInfant] = useState(''); // Prima Dose Neonati\n    const [percentualePrimaDosePopolazioneInfant, setPercentualePrimaDosePopolazioneInfant] = useState(''); // Percentuale Prima Dose Neonati\n\n    const [totalePersoneVaccinateInfant, setTotalePersoneVaccinateInfant] = useState(''); // Completamento ciclo vaccinale neonati\n    const [totalePersoneVaccinatePopolazioneInfant, setTotalePersoneVaccinatePopolazioneInfant] = useState(''); // Percentuale Completamento ciclo vaccinale neonati\n\n    useEffect(() => {\n        // Prima Dose\n        let prima = (data?.totalDoses?.prima_dose + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(prima)) {\n            setTotalePrimaDose(format(prima));\n            setPercentualePrimaDosePopolazione(format(prima / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Completamento ciclo vaccinale\n        let tot = (data?.totalDoses?.seconda_dose + data?.totalDoses?.prima_dose_janssen + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(tot)) {\n            setTotalePersoneVaccinate(format(tot));\n            setTotalePersoneVaccinatePopolazione(format(tot / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Dose aggiuntiva/booster\n        setTotaleDoseAddizionaleBooster(data?.totalDoses?.dose_addizionale_booster);\n        setPercentualeDoseAddizionaleBooster(format(data?.totalDoses?.dose_addizionale_booster / data?.databoxContent?.totalPlateaDoseAddizionaleBooster * 100, true));\n\n        // Dose second booster\n        setTotalePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster));\n        setPercentualePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster / data?.databoxContent?.totalPlateaDoseSecondBooster * 100, true))\n        \n        // Dose third booster\n        setTotalePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster));\n        setPercentualePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster / data?.databoxContent?.totalPlateaDoseThirdBooster * 100, true));\n\n        // Prima Dose Baby\n        let primaBaby = (data?.totalDoses?.prima_dose_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(primaBaby)) {\n            setTotalePrimaDoseBaby(format(primaBaby));\n            setPercentualePrimaDosePopolazioneBaby(format(primaBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Completamento ciclo vaccinale Baby\n        let totBaby = (data?.totalDoses?.seconda_dose_baby + data?.totalDoses?.prima_dose_janssen_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(totBaby)) {\n            setTotalePersoneVaccinateBaby(format(totBaby));\n            setTotalePersoneVaccinatePopolazioneBaby(format(totBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Dose aggiuntiva/booster baby\n        setTotaleDoseAddizionaleBoosterBaby(data?.totalDoses?.dose_addizionale_booster_baby);\n        setPercentualeDoseAddizionaleBoosterBaby(format(data?.totalDoses?.dose_addizionale_booster_baby / data?.databoxContent?.totalPlateaDoseAddizionaleBoosterBaby * 100, true));\n\n        // Prima Dose neonati\n        let primaInfant = (data?.totalDoses?.prima_dose_infant + data?.totalDoses?.pregressa_infezione_infant);\n        if (!isNaN(primaInfant)) {\n            setTotalePrimaDoseInfant(format(primaInfant));\n            setPercentualePrimaDosePopolazioneInfant(format(primaInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n        }\n \n        // Completamento ciclo vaccinale neonati\n        let totInfant = (data?.totalDoses?.seconda_dose_infant + data?.totalDoses?.prima_dose_janssen_infant + data?.totalDoses?.pregressa_infezione_infant);\n        if (!isNaN(totInfant)) {\n            setTotalePersoneVaccinateInfant(format(totInfant));\n            setTotalePersoneVaccinatePopolazioneInfant(format(totInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n        }\n     }, [data]);\n\n    function format(data, digit = false) {\n        if (digit) {\n            return data?.toLocaleString('it', {minimumFractionDigits: 2, maximumFractionDigits: 2});\n        }\n        return data?.toLocaleString('it');\n    }\n\n    return (\n        <div className=\"p-3 mb-5\">     \n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDose}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinate}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Dosi successive fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBooster} % della popolazione potenzialmente oggetto di<br />dose addizionale o booster che ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Booster immuno / 2 dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneSecondBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneSecondBooster} % della popolazione potenzialmente oggetto di <br />dose booster/2 booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">3 dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneThirdBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneThirdBooster} % della popolazione potenzialmente oggetto di <br />3 dose booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Vaccinazione 5-11 anni fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseBaby}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateBaby}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBoosterBaby?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBoosterBaby} % della popolazione 5-11 potenzialmente oggetto di dose addizionale o booster che ha ultimato il ciclo vaccinale da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario 0-4 anni fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseInfant}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateInfant}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>        \n    );\n};","import { React } from \"react\";\n\nexport const TotalHistory = (props) => {\n    return (\n        <div className=\"w-100 my-3\">\n            <div className=\"p-3 mb-5\">\n                <h3 className=\"text-center\">Dati storici vaccinazione anti Covid-19 fino al<br/>24/09/2023</h3>\n                <div className=\"col-12 justify-content-center align-items-center\">\n                    <div className=\"d-flex justify-content-center\">Dati e statistiche sulla vaccinazione anti Covid-19 a partire dal 27 Dicembre 2020 al 24 Settembre 2023.</div>\n                </div>\n            </div>\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div className=\"d-flex justify-content-center align-items-baseline\">\n                    <img src=\"meds.png\" alt=\"meds\" className=\"pl-2 pr-5\" />\n                    <div className=\"pl-2 mt-4 numbers\">{props.summary.tot?.toLocaleString('it')}</div>\n                </div>\n                <span className=\"border-divider mb-2\"></span>\n                <div className=\"d-flex justify-content-center\">\n                    <h3>Totale somministrazioni fino al 24/09/2023</h3>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { AgeDosesHistory } from \"../containers/agedosesHistory\";\nimport { Databox } from \"../containers/databox\";\nimport { TotalHistory } from \"../components/TotalHistory\";\n\nexport const CampaignHistory = ({summary}) => {\n    return (<>\n        <TotalHistory summary={summary} />       {/* Totale Somministrazioni storiche */}\n        <AgeDosesHistory data={summary} />              {/* Grafico Somministrazioni per fascia d'et dati storici */}\n        <Databox data={summary} />                      {/* Box riepilogo dati storici */}\n        </>)\n}\n\n","import { baseURL, loadData } from \"../loadData\";\nimport { useEffect, useState } from 'react';\nimport { AgeDoses } from \"../containers/agedoses\";\nimport {CampaignContext} from './CampaignContext'\nimport { Total } from \"../components/Total\";\nimport { CampaignHistory } from \"./Campaign-History\";\n\nconst context = {\n    total:{\n        title:'Dati Campagna vaccinale anti Covid-19 2023/2024 fino al 17/09/2024',\n        subtitle: 'Dati e statistiche sulla vaccinazione anti Covid-19 a partire da 24 Settembre 2023 al 17 Settembre 2024',\n        showLastUpdate: false,\n        periodTitle: 'Totale somministrazioni fino al 17/09/2024'\n    },\n    ageDoses:{\n        title:\"Somministrazioni di XBB 1.5 per fascia d'et - fino al 17/09/2024\"\n    }\n}\n\nexport const Campaign20232024 = () => {\n\n    const [summary, setSummary] = useState({});\n\n    useEffect(() => {\n        // campagna 2023-2024\n        const campagnaUrl = `${baseURL}/somministrazioni-vaccini-latest-campagna-2023-2024.json`;\n        const summaryUrl = `${baseURL}/somministrazioni-vaccini-summary-latest-campagna-2023-2024.json`;\n\n        loadData({campagnaUrl, summaryUrl}).then((d) => {\n            setSummary(d);\n        });\n    }, []);\n\n    return (\n        <CampaignContext.Provider value={context}>\n            <Total summary={summary} />              {/* Totale Somministrazioni campagna attuale */}\n            <AgeDoses data={summary} />                     {/* Grafico Somministrazioni per fascia d'et dati storici */}\n            <div className=\"row mt-5 mb-5\">\n                <div className=\"flag-green col-md-4 col-3\"></div>\n                <div className=\"col-md-4 col-6\">\n                    <img className=\"col-md-12\" src=\"ministero.png\" alt=\"logo-ministero\" />\n                </div>\n                <div className=\"flag-red col-md-4 col-3\"></div>\n            </div>\n           <CampaignHistory summary={summary}/>\n        </CampaignContext.Provider>\n    )\n}\n\n","import React, { useEffect, useState } from \"react\";\nimport { Range, getTrackBackground } from \"react-range\";\n\nexport const RangeWeek = ({\n    from,\n    to,\n    min,\n    max,\n    changeFrom,\n    changeTo\n  }) => {\n\n  const [values, setValues] = useState([0, 1]);\n\n  const STEP = 1;\n\n  useEffect(() => {\n    setValues([from, to])\n  },[from, to, min, max]);\n\n\n  return (\n    <div className=\"col-12\"\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        flexWrap: 'wrap',\n        backgroundColor: 'rgb(15, 53, 89)'\n      }}\n    >\n      <Range\n        draggableTrack\n        values={values}\n        step={STEP}\n        min={min}\n        max={max}\n        rtl={false}\n        onChange={(values) => {\n          if (values[0] !== values[1]) {\n            setValues(values);\n            changeFrom(values[0]);\n            changeTo(values[1]);\n          }\n\n        }}\n        renderTrack={({ props, children }) => (\n          <div\n            onMouseDown={props.onMouseDown}\n            onTouchStart={props.onTouchStart}\n            style={{\n              ...props.style,\n              height: '36px',\n              display: 'flex',\n              width: '100%',\n              marginRight: 10,\n              marginLeft: 10\n            }}\n          >\n            <div\n              ref={props.ref}\n              style={{\n                height: '5px',\n                width: '100%',\n                borderRadius: '4px',\n                background: getTrackBackground({\n                  values,\n                  colors: ['#ccc', 'black', '#ccc'],\n                  min: min,\n                  max: max,\n                  rtl: false\n                }),\n                alignSelf: 'center'\n              }}\n            >\n              {children}\n            </div>\n          </div>\n        )}\n        renderThumb={({ props, isDragged }) => (\n          <div\n            {...props}\n            style={{\n              ...props.style,\n              height: '20px',\n              width: '20px',\n              borderRadius: '50%',\n              backgroundColor: '#ccc',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              boxShadow: '0px 2px 6px #AAA'\n            }}\n          >\n          </div>\n        )}\n      />\n    </div>\n  );\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const StackedBarChart = ({\n  height,\n  width,\n  data,\n  keys,\n  colors,\n  selectedFrom,\n  selectedTo,\n  property,\n  title,\n  ytitle\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, selectedFrom, selectedTo]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height+10}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data.slice(selectedFrom, selectedTo));\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 15)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 50, x: 50 };\n\n    // axis\n    const xScale = d3.scaleBand().padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data.slice(selectedFrom, selectedTo), function(d) { return d.total; })]);\n    yScale.range([height, 0]);\n    xScale.range([0, width]).domain(data.slice(selectedFrom, selectedTo).map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y / 2)\n      .attr(\"class\", \"title\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"rotate(90)\")\n      .attr(title);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", -(height / 2) - margin.y)\n      .attr(\"y\", margin.x / 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"title\")\n      .text(ytitle);\n\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .style('font-size', 16)\n      .call(d3.axisBottom(xScale))\n        .selectAll(\"text\") // x axis label rotation\n            .attr(\"y\", -5)\n            .attr(\"x\", 11)\n            .attr(\"transform\", \"rotate(90)\")\n            .style(\"text-anchor\", \"start\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.key];\n      })\n      .attr(\"supply\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .attr(\"x\", function(d) {\n        return xScale(d.data.label);\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d[1]);\n      })\n      .attr(\"height\", function(d) {\n        return yScale(d[0]) - yScale(d[1]);\n      })\n      .attr(\"width\", xScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n        tooltip\n          .html(\n            `<div style=\"text-align: center\"><b>${d3.select(this.parentNode).attr(\"supply\")}</b></div>\n            <div>${(d[1] - d[0]).toLocaleString('it')} su ${d.data.total.toLocaleString(\"it\")}</div>\n            <div style=\"text-align: center; font-size: 12px\">dal ${(d.data.labelfrom)} al ${d.data.labelto}</div>`\n          )\n          .style('display', null);\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport { RangeWeek } from \"./../components/RangeWeek\";\nimport { StackedBarChart } from \"./../components/StackedBarChart\";\nimport { isEmpty } from \"lodash\";\nimport { useCampaignContext } from \"../campaigns/CampaignContext\";\n\nexport const Weeks = ({ data }) => {\n    const [suppliersColor, setSuppliersColor] = useState([]);\n    const [suppliers, setSuppliers] = useState([]);\n    const [suppliersWeek, setSuppliersWeek] = useState([]);\n    const [from, setFrom] = useState(0);\n    const [to, setTo] = useState(0);\n    const [totalLastWeek, setTotalLastWeek] = useState(0);\n    const [fromLastWeek, setFromLastWeek] = useState(\"\");\n    const [toLastWeek, setToLastWeek] = useState(\"\");\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setSuppliersColor(data.weekContent.suppliersColor);\n            setSuppliers(data.weekContent.suppliers);\n            setSuppliersWeek(data.weekContent.suppliersWeek);\n\n            setTo(data.weekContent.suppliersWeek.length);\n            if (data.weekContent.suppliersWeek.length >= 9) {\n                setFrom(data.weekContent.suppliersWeek.length - 9);\n            }\n\n            if (data.weekContent.suppliersWeek.length > 0) {\n                let lastWeek = data.weekContent.suppliersWeek[data.weekContent.suppliersWeek.length-1];\n                setFromLastWeek(lastWeek.labelfrom + \"/\" + lastWeek.from.substring(0, 4));\n                setToLastWeek(lastWeek.labelto + \"/\" + lastWeek.to.substring(0, 4));\n                setTotalLastWeek(lastWeek.total);\n            }\n        }\n      }, [data]);\n\n    const {title} = useCampaignContext('weeks')\n\n    return (\n        <div className=\"row\">\n            {/* Title Box - Desktop View */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2\">\n                <span><h3>{title}</h3>\n                <h6>Vaccinazioni dal <b>{fromLastWeek}</b> al <b>{toLastWeek}</b>: {totalLastWeek?.toLocaleString('it')}</h6>\n                </span>\n            </div>\n            {/* // Title Box - Desktop View */}\n            <div className=\"row col-12 m-2 p-2 \">\n                <div className=\"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex\"></div>\n                <div className=\"col-12 col-md-6  position-relative\">\n\n                    <div className=\"bg-gradient-bar\"></div>\n                </div>\n                <div className=\"col-12 col-md-4\" style={{ backgroundColor: \"#17324D\" }}>\n                    <div className=\"p-2 position-relative\">\n                        <div className=\"p-4\">\n                            <img src=\"group_person.svg\" alt=\"Logo\" className=\"img-fluid\" />\n                        </div>\n                        <div className=\"mt-4 ml-3\">\n                            {suppliers.map((supply, index) => {\n                                return (\n                                    <div className=\"row\" key={supply}>\n                                        <div className=\"circle\" style={{ backgroundColor: suppliersColor[supply] }}></div>\n                                        <span className=\"legend\">{supply}</span>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-12 col-md-8 text-white\"  style={{ backgroundColor: \"#17324D\" }}>\n                <div className=\"text-white text-center mt-3 \">*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana</div>\n                    <StackedBarChart\n                        title=\"\"\n                        xtitle=\"Somministrazione settimanale\"\n                        ytitle=\"\"\n                        width={780}\n                        height={350}\n                        marginBottom={10}\n                        property={{ xprop: \"label\", yprop: \"total\" }}\n\n                        colors={suppliersColor}\n                        keys={suppliers}\n                        data={suppliersWeek}\n                        selectedFrom={from}\n                        selectedTo={to}\n                    />\n                </div>\n                {suppliersWeek.length > 0 && (\n                    <RangeWeek min={0} max={suppliersWeek.length} from={from} to={to} changeFrom={(value) => setFrom(value)} changeTo={(value) => setTo(value)}  />\n                )}\n            </div>\n                <div>*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare<br />La voce \"Pfizer Pediatrico\" include le formulazioni per le fasce di et 0-4 anni e 5-11 anni</div>\n        </div>\n    )\n};","import { baseURL, loadData } from \"../loadData\";\nimport { useEffect, useState } from 'react';\nimport { AgeDoses } from \"../containers/agedoses\";\nimport {CampaignContext} from './CampaignContext';\nimport { Total } from \"../components/Total\";\nimport { Weeks } from \"../containers/weeks\";\nimport { hideLoader } from \"../utils\";\n\nconst context = {\n    total:{\n        title: 'Campagna vaccinale Autunno-Inverno 2024/2025',\n        subtitle: 'I dati sono aggiornati su base settimanale e sono disponibili in formato aperto con il dettaglio giornaliero.',\n        showLastUpdate: true,\n        periodTitle: 'Totale somministrazioni dal 17/09/2024',\n        periodSubtitle: 'Il dato pu subire variazioni negative a seguito di rettifiche da parte delle regioni.'\n    },\n    weeks:{\n        title:\"Somministrazioni su base settimanale\"\n    },\n    ageDoses:{\n        title:\"Somministrazioni per fascia d'et\"\n    }\n}\n\nexport const Campaign20242025 = () => {\n\n    const [summary, setSummary] = useState({});\n\n    useEffect(() => {\n        // campagna 2024-2025\n        const campagnaUrl = `${baseURL}/somministrazioni-vaccini-latest-campagna-2024-2025.json`;\n        const summaryUrl = `${baseURL}/somministrazioni-vaccini-summary-latest-campagna-2024-2025.json`;\n\n        loadData({campagnaUrl, summaryUrl}).then((d) => {\n        setSummary(d);\n        hideLoader();\n        });\n    }, []);\n\n    return (\n        <CampaignContext.Provider value={context}>\n            <Total summary={summary} />              {/* Totale Somministrazioni campagna attuale */}\n            <Weeks data={summary} />                        {/* Grafico Andamento Settimanale delle Somministrazioni */}\n            <AgeDoses data={summary} />                     {/* Grafico Somministrazioni per fascia d'et dati storici */}\n            <div className=\"row mt-5 mb-5\">\n                <div className=\"flag-green col-md-4 col-3\"></div>\n                <div className=\"col-md-4 col-6\">\n                    <img className=\"col-md-12\" src=\"ministero.png\" alt=\"logo-ministero\" />\n                </div>\n                <div className=\"flag-red col-md-4 col-3\"></div>\n            </div>\n        </CampaignContext.Provider>\n    )\n}\n\n","import React from \"react\";\n\nexport const FooterBar = () => {\n    return (\n        <>\n            <footer className=\"row m-0 bg-footer\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-2 no-grid pb-2\">\n                            <a title=\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\" href=\"https://www.salute.gov.it/\">\n                                <img src=\"logo.svg\" alt=\"Logo\" />\n                            </a>\n                        </div>\n                        <div className=\"col-md-6 no-grid pb-2\">\n                            <p className=\"footer-title h3\"> 2022 - Testata di propriet del Ministero della Salute</p>\n                        </div>\n                        <div className=\"col-md-4 no-grid pb-2\">\n                            <div className=\"social-section\">\n                                <span id=\"social-footer\">\n                                    <a title=\"Collegamento alla pagina Facebook del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.facebook.com/MinisteroSalute\">\n                                        <span className=\"fab fa-facebook\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Twitter del Ministero della Salute. Apre una nuova pagina.\" href=\"https://twitter.com/ministerosalute\">\n                                        <span className=\"fa-brands fa-x-twitter\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento al canale Youtube del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.youtube.com/user/MinisteroSalute\">\n                                        <span className=\"fab fa-youtube\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Instagram del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.instagram.com/ministerosalute\">\n                                        <span className=\"fab fa-instagram\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento al canale Telegram del Ministero della Salute. Apre una nuova pagina.\" href=\"https://t.me/MinisteroSalute\">\n                                        <span className=\"fab fa-telegram\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Linkedin del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.linkedin.com/company/MinisteroSalute\">\n                                        <span className=\"fab fa-linkedin\">\n                                        </span>\n                                    </a>\n                                </span>\n                                <a className=\"button-open-data\" href=\"https://github.com/italia/covid19-opendata-vaccini\" aria-label=\"vai all'area Covid-19\" rel=\"noreferrer\" alt=\"vai all'area Covid-19\"><b>Open Data <span className=\"fa-solid fa-chevron-right\"></span></b></a>\n                            </div>\n\n\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <ul className=\"footer-links col-12\">\n                            <li>\n                                <a title=\"Mappa\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5343&area=nuovoCoronavirus&menu=vuoto\">Mappa</a>\n                            </li>\n                            <li>\n                                <a title=\"Link\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5344&area=nuovoCoronavirus&menu=vuoto\">Link</a>\n                            </li>\n                            <li>\n                                <a title=\"Credits\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5345&area=nuovoCoronavirus&menu=vuoto\">Credits</a>\n                            </li>\n                            <li>\n                                <a title=\"Note legali\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5185&area=nuovoCoronavirus&menu=vuoto\">Note legali</a>\n                            </li>\n                            <li>\n                                <a title=\"Privacy\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5186&area=nuovoCoronavirus&menu=vuoto\">Privacy</a>\n                            </li>\n                            <li>\n                                <a title=\"Social Media Policy\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5500&area=nuovoCoronavirus&menu=vuoto\">Social Media Policy</a>\n                            </li>\n                            <li>\n                                <a title=\"Accessibilit\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5229&area=nuovoCoronavirus&menu=vuoto\">Accessibilit</a>\n                            </li>\n                            <li>\n                                <a href=\"https://form.agid.gov.it/view/90fa205d-e0e3-4521-8b38-ab64ec5189ae\" rel=\"noreferrer\" target=\"_blank\">Dichiarazione di Accessibilit</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </footer>\n    </>\n    );\n};\n","import React from \"react\";\nimport \"bootstrap-italia/dist/css/bootstrap-italia.min.css\";\nimport \"../App.css\";\nimport \"typeface-titillium-web\";\nimport \"typeface-roboto-mono\";\nimport \"typeface-lora\";\n\nexport const HeaderBar = () => {\n  return (\n    <div>\n      <div className=\"row m-0 bg-tertiary justify-content-md-center\">\n        <div className=\"col-12 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2\">\n            <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n            <p className=\"h5\">\n                <a className=\"text-decoration-none\" href=\"https://www.salute.gov.it/\" aria-label =\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\" rel=\"noreferrer\" alt=\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\">\n                Ministero della Salute\n                </a>\n            </p>\n        </div>\n      </div>\n      <div className=\"flag_container clearfix\">\n        <div className=\"green clearfix\"></div>\n        <div className=\"white clearfix\"></div>\n        <div className=\"red clearfix\"></div>\n      </div>\n      <div>\n        {/** TITLE + LOGO*/}\n        <div className=\"col-12 d-flex flex-column justify-content-center mainBanner\">\n          <div className=\"row pt-5 row-header-div\">\n            <div className=\"col-md-9\">\n              <h1 className=\"large-title pl-2 d-lg-none d-md-none d-xs-block\">Report Vaccini Anti COVID-19</h1> {/* Title Mobile*/}\n              <h1 className=\"page-title large-title pl-2 d-none d-md-block\">Report Vaccini Anti COVID-19</h1>  {/* Title Desktop*/}\n            </div>\n            <div className=\"col-md-3 vertical-align\">\n              <a className=\"button-header\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/homeNuovoCoronavirus.jsp\" aria-label=\"vai all'area Covid-19\" rel=\"noreferrer\" alt=\"vai all'area Covid-19\">vai all'area <b>Covid-19 <span className=\"fa-solid fa-chevron-right\"></span></b></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import \"./App.css\";\nimport \"./fontawesome/brands.css\";\nimport \"./fontawesome/fontawesome.css\";\nimport \"./fontawesome/solid.css\";\n\nimport { Campaign20232024 } from \"./campaigns/Campaign-2023-2024\";\nimport { Campaign20242025 } from \"./campaigns/Campaign-2024-2025\";\nimport { FooterBar } from \"./components/FooterBar\";\nimport { HeaderBar } from \"./components/HeaderBar\";\n\nfunction App() {\n\n    return (\n        <div>\n            <HeaderBar />\n            <div className=\"container\">\n                <Campaign20242025 />   \n                <Campaign20232024 />\n            </div>\n            <FooterBar />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}